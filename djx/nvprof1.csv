==11488== NVPROF is profiling process 11488, command: python3 batch-mps.py
==11488== Profiling application: python3 batch-mps.py
==11488== Profiling result:
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,us,us,ms,
"GPU activities",46.970332,791.047585,13950,56.705000,10.368000,2.586821,"void cudnn::detail::implicit_convolve_sgemm<float, float, int=1024, int=5, int=5, int=3, int=3, int=3, int=1, bool=1, bool=0, bool=1>(int, int, int, float const *, int, float*, cudnn::detail::implicit_convolve_sgemm<float, float, int=1024, int=5, int=5, int=3, int=3, int=3, int=1, bool=1, bool=0, bool=1>*, kernel_conv_params, int, float, float, int, float, float, int, int)"
"GPU activities",23.770812,400.334481,7050,56.785000,18.560000,2.457767,"volta_scudnn_winograd_128x128_ldg1_ldg4_relu_tile148t_nt_v1"
"GPU activities",6.796881,114.469192,23250,4.923000,3.840000,0.020736,"void cudnn::detail::bn_fw_inf_1C11_kernel_NCHW<float, float, bool=1, int=1>(float, cudnn::detail::bn_fw_inf_1C11_kernel_NCHW<float, float, bool=1, int=1>, cudnnTensorStruct, float const *, float, cudnnTensorStruct*, float, cudnn::detail::bn_fw_inf_1C11_kernel_NCHW<float, float, bool=1, int=1> const *, cudnn::detail::bn_fw_inf_1C11_kernel_NCHW<float, float, bool=1, int=1> const , cudnn::detail::bn_fw_inf_1C11_kernel_NCHW<float, float, bool=1, int=1> const , cudnn::detail::bn_fw_inf_1C11_kernel_NCHW<float, float, bool=1, int=1> const , cudnn::detail::bn_fw_inf_1C11_kernel_NCHW<float, float, bool=1, int=1>)"
"GPU activities",5.060466,85.225491,7050,12.088000,3.520000,2.573477,"void cudnn::winograd::generateWinogradTilesKernel<int=0, float, float>(cudnn::winograd::GenerateWinogradTilesParams<float, float>)"
"GPU activities",4.948252,83.335642,22650,3.679000,2.688000,0.016160,"_ZN2at6native29vectorized_elementwise_kernelILi4EZZZNS0_83_GLOBAL__N__59_tmpxft_0000876c_00000000_9_TensorCompare_compute_70_cpp1_ii_d0af11f728clamp_min_scalar_kernel_implERNS_14TensorIteratorEN3c106ScalarEENKUlvE_clEvENKUlvE6_clEvEUlfE_NS_6detail5ArrayIPcLi2EEEEEviT0_T1_"
"GPU activities",4.599856,77.468162,935,82.853000,1.280000,5.130667,"[CUDA memcpy HtoD]"
"GPU activities",3.360135,56.589483,2100,26.947000,19.968000,2.491302,"volta_scudnn_128x64_relu_interior_nn_v1"
"GPU activities",2.463571,41.490063,7500,5.532000,3.520000,2.370376,"void at::native::vectorized_elementwise_kernel<int=4, at::native::BinaryFunctor<float, float, float, at::native::AddFunctor<float>>, at::detail::Array<char*, int=3>>(int, float, float)"
"GPU activities",0.703372,11.845796,150,78.971000,44.352000,2.377768,"volta_scudnn_128x64_relu_medium_nn_v1"
"GPU activities",0.471170,7.935183,150,52.901000,18.880000,2.479559,"void gemv2T_kernel_val<int, int, float, float, float, int=128, int=16, int=4, int=4, bool=0, cublasGemvParams<cublasGemvTensorStridedBatched<float const >, cublasGemvTensorStridedBatched<float>, float>>(float const , float, float)"
"GPU activities",0.391976,6.601436,2250,2.933000,2.560000,0.004736,"cudnn::gemm::computeOffsetsKernel(cudnn::gemm::ComputeOffsetsParams)"
"GPU activities",0.356686,6.007104,150,40.047000,6.880000,2.509318,"void at::native::reduce_kernel<int=512, int=1, at::native::ReduceOp<float, at::native::MeanOps<float, float>, unsigned int, float, int=4>>(float)"
"GPU activities",0.077828,1.310743,150,8.738000,8.256000,0.010624,"void at::native::_GLOBAL__N__62_tmpxft_00008e4e_00000000_9_DilatedMaxPool2d_compute_70_cpp1_ii_6258b574::max_pool_forward_nchw<float, float>(int, float const *, int, int, int, int, int, int, int, int, int, int, int, int, int, int, at::native::_GLOBAL__N__62_tmpxft_00008e4e_00000000_9_DilatedMaxPool2d_compute_70_cpp1_ii_6258b574::max_pool_forward_nchw<float, float>*, long*)"
"GPU activities",0.027553,0.464028,150,3.093000,2.976000,0.004224,"[CUDA memcpy DtoD]"
"GPU activities",0.001108,0.018656,4,4.664000,4.160000,0.005792,"[CUDA memset]"
"API calls",76.392502,10894.535649,66,165068.721000,5.365000,10849.379263,"cudaMalloc"
"API calls",10.521724,1500.530688,933,1608.285000,6.679000,5.029373,"cudaStreamSynchronize"
"API calls",6.296093,897.902437,86400,10.392000,5.277000,0.886388,"cudaLaunchKernel"
"API calls",2.910823,415.120163,729686,0.568000,0.362000,0.942193,"cudaGetDevice"
"API calls",1.330217,189.705756,101,1878.274000,51.247000,3.893094,"cudaDeviceSynchronize"
"API calls",1.148488,163.788840,1083,151.236000,4.775000,5.699998,"cudaMemcpyAsync"
"API calls",0.651552,92.919485,46500,1.998000,1.547000,0.022319,"cudaEventRecord"
"API calls",0.389223,55.508068,13950,3.979000,2.665000,0.016601,"cudaBindTexture"
"API calls",0.154671,22.058012,58554,0.376000,0.181000,0.666698,"cudaGetLastError"
"API calls",0.125958,17.963145,13950,1.287000,0.985000,0.014413,"cudaUnbindTexture"
"API calls",0.049789,7.100512,2,3550.256000,301.412000,6.799100,"cudaGetDeviceProperties"
"API calls",0.008015,1.143076,1,1143.076000,1143.076000,1.143076,"cudaHostAlloc"
"API calls",0.005170,0.737354,97,7.601000,0.293000,0.485927,"cuDeviceGetAttribute"
"API calls",0.003096,0.441485,4,110.371000,2.418000,0.431354,"cudaStreamCreateWithPriority"
"API calls",0.002970,0.423611,150,2.824000,1.805000,0.009733,"cudaOccupancyMaxActiveBlocksPerMultiprocessorWithFlags"
"API calls",0.002815,0.401499,48,8.364000,0.692000,0.350979,"cudaEventCreateWithFlags"
"API calls",0.002108,0.300660,180,1.670000,0.602000,0.013562,"cudaFuncSetAttribute"
"API calls",0.002043,0.291345,2,145.672000,19.362000,0.271983,"cudaMemcpy"
"API calls",0.000822,0.117262,4,29.315000,10.356000,0.082925,"cudaMemsetAsync"
"API calls",0.000581,0.082857,1,82.857000,82.857000,0.082857,"cuDeviceGetName"
"API calls",0.000529,0.075497,8,9.437000,2.325000,0.053973,"cudaStreamCreateWithFlags"
"API calls",0.000323,0.046011,4,11.502000,0.301000,0.043895,"cudaGetDeviceCount"
"API calls",0.000162,0.023037,40,0.575000,0.389000,0.002586,"cudaDeviceGetAttribute"
"API calls",0.000119,0.016991,1,16.991000,16.991000,0.016991,"cuDeviceGetPCIBusId"
"API calls",0.000055,0.007789,7,1.112000,0.545000,0.001827,"cudaFree"
"API calls",0.000053,0.007572,2,3.786000,2.260000,0.005312,"cudaSetDevice"
"API calls",0.000028,0.003986,3,1.328000,0.445000,0.002858,"cuDeviceGetCount"
"API calls",0.000025,0.003513,1,3.513000,3.513000,0.003513,"cudaDeviceGetStreamPriorityRange"
"API calls",0.000021,0.002993,1,2.993000,2.993000,0.002993,"cudaHostGetDevicePointer"
"API calls",0.000015,0.002085,2,1.042000,0.563000,0.001522,"cuDeviceGet"
"API calls",0.000006,0.000886,1,0.886000,0.886000,0.000886,"cuDeviceTotalMem"
"API calls",0.000005,0.000767,1,0.767000,0.767000,0.000767,"cuDeviceGetUuid"
